{"searchDocs":[{"title":"EbMS Admin 2.19 Migration Guide","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-admin/migration","content":"","keywords":"","version":"2.19.x"},{"title":"Before you start​","type":1,"pageTitle":"EbMS Admin 2.19 Migration Guide","url":"/ebms-admin/docs/ebms-admin/migration#before-you-start","content":" We assume that you have installed EbMS Admin 2.18.x.  ","version":"2.19.x","tagName":"h2"},{"title":"Update connected applications​","type":1,"pageTitle":"EbMS Admin 2.19 Migration Guide","url":"/ebms-admin/docs/ebms-admin/migration#update-connected-applications","content":" If your application uses the EbMS Admin REST API, then you should update your application to use the new version of the REST API.  danger MySQL is not supported anymore  danger Apache HttpClient is removed  danger Bitronix TransactionManager is removed  info Duplicate messages are not stored anymore  info The default test database has changed from HSQLDB to H2.  ","version":"2.19.x","tagName":"h3"},{"title":"Upgrade to EbMS Admin 2.19.x​","type":1,"pageTitle":"EbMS Admin 2.19 Migration Guide","url":"/ebms-admin/docs/ebms-admin/migration#upgrade-to-ebms-admin-219x","content":" ","version":"2.19.x","tagName":"h2"},{"title":"Upgrade Java​","type":1,"pageTitle":"EbMS Admin 2.19 Migration Guide","url":"/ebms-admin/docs/ebms-admin/migration#upgrade-java","content":" Install the latest JRE or JDK 11.  ","version":"2.19.x","tagName":"h3"},{"title":"Shutdown EbMS Admin 2.18.x​","type":1,"pageTitle":"EbMS Admin 2.19 Migration Guide","url":"/ebms-admin/docs/ebms-admin/migration#shutdown-ebms-admin-218x","content":" Shutdown your current EbMS Admin application.  ","version":"2.19.x","tagName":"h3"},{"title":"Migrate MySQL Database​","type":1,"pageTitle":"EbMS Admin 2.19 Migration Guide","url":"/ebms-admin/docs/ebms-admin/migration#migrate-mysql-database","content":" If you are using a MySQL database, you have to migrate your data to another database. After that you have to configure the new database. We removed MySQL support, because it does not comply to the ANSI SQL 2008 specifications.  ","version":"2.19.x","tagName":"h3"},{"title":"Update Database​","type":1,"pageTitle":"EbMS Admin 2.19 Migration Guide","url":"/ebms-admin/docs/ebms-admin/migration#update-database","content":" If you are not using Flyway, you have to update the database manually by applying the V2.19.0__Update.sql script from this directory to your database.  ","version":"2.19.x","tagName":"h3"},{"title":"Reconfigure HttpClient​","type":1,"pageTitle":"EbMS Admin 2.19 Migration Guide","url":"/ebms-admin/docs/ebms-admin/migration#reconfigure-httpclient","content":" If you configured Apache HttpClient, you have to switch to the default HttpClient. See here for the configuration.  ","version":"2.19.x","tagName":"h3"},{"title":"Reconfigure TransactionManager​","type":1,"pageTitle":"EbMS Admin 2.19 Migration Guide","url":"/ebms-admin/docs/ebms-admin/migration#reconfigure-transactionmanager","content":" If you configured Bitronix TransactionManager, you have to switch to the Atomikos. See here for the configuration.  ","version":"2.19.x","tagName":"h3"},{"title":"Upgrade EbMS Admin​","type":1,"pageTitle":"EbMS Admin 2.19 Migration Guide","url":"/ebms-admin/docs/ebms-admin/migration#upgrade-ebms-admin","content":" Replace the ebms-admin-2.18.x.jar by the latest ebms-admin-2.19.x.jar and start the EbMS Admin application. ","version":"2.19.x","tagName":"h3"},{"title":"REST Interface","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-admin/rest","content":"REST Interface The REST Interface is not (yet) enabled seperately but together with the SOAP interface through a command line option. The REST Interface implements the same api as the SOAP Interface, see also EbMS API for an enumeration of the services/operations. There is an OpenAPI spec located here. And example/test requests located here.","keywords":"","version":"2.19.x"},{"title":"Introduction","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-admin/introduction","content":"","keywords":"","version":"2.19.x"},{"title":"Short introduction to EbMS​","type":1,"pageTitle":"Introduction","url":"/ebms-admin/docs/ebms-admin/introduction#short-introduction-to-ebms","content":" EbMS supports secure and reliable messaging. Secure messaging can be established by communicating over SSL and by signing and encrypting messages. Reliable messaging can be established by configuring the retry mechanism. All of this is defined in the CPA.  A CPA is the contract between 2 parties and it defines the cpaId, actions, endpoint URLs and SSL, Signing and Encryption certificates between usually 2 endpoints of the 2 parties. Each CPA is uniquelly identified by a cpaId. The CPA defines the actions that both parties can send and receive. Normally the EbMS adapter communicates over SSL. EbMS Messages are usually signed to verify the originator. Sometimes they are also encrypted. The SSL, Signing and Encryption certificates are also defined in the CPA. Also the endpoint URLs which are used to communicate between the 2 parties are defined in the CPA. So you need different CPAs for your Development, Acceptance and Production environments. In practice the same certificate is used for SSL, Signing and Encryption in a single CPA/environment. Also the retry period and number of retries are defined in the CPA.  See here for more information ","version":"2.19.x","tagName":"h2"},{"title":"Examples","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-admin/examples","content":"","keywords":"","version":"2.19.x"},{"title":"Docker​","type":1,"pageTitle":"Examples","url":"/ebms-admin/docs/ebms-admin/examples#docker","content":" For Docker examples see  https://github.com/eluinstra/ebms-dockerhttps://gitlab.com/peterzandbergen/ebms-admin-docker  ","version":"2.19.x","tagName":"h2"},{"title":"Kubernetes​","type":1,"pageTitle":"Examples","url":"/ebms-admin/docs/ebms-admin/examples#kubernetes","content":" For Kubernetes examples see  https://github.com/eluinstra/ebms-kubernetes  ","version":"2.19.x","tagName":"h2"},{"title":"Ansible​","type":1,"pageTitle":"Examples","url":"/ebms-admin/docs/ebms-admin/examples#ansible","content":" For Ansible examples see  https://github.com/eluinstra/ebms-ansible  ","version":"2.19.x","tagName":"h2"},{"title":"Example with 2 EbMS adapters​","type":1,"pageTitle":"Examples","url":"/ebms-admin/docs/ebms-admin/examples#example-with-2-ebms-adapters","content":" In this example you will configure 2 ebms adapters that will communicate with each other. One represents party Overheid, the other one represents party Digipoort. They will use the aanleveren and afleveren services as defined in the CPA.  ","version":"2.19.x","tagName":"h2"},{"title":"Prerequisites​","type":1,"pageTitle":"Examples","url":"/ebms-admin/docs/ebms-admin/examples#prerequisites","content":" download and install Java 8 (or later)download ebms-admin-2.19.3.jardownload cpaStubEBF.rm.https.signed.xml  ","version":"2.19.x","tagName":"h3"},{"title":"Create and configure party Overheid​","type":1,"pageTitle":"Examples","url":"/ebms-admin/docs/ebms-admin/examples#create-and-configure-party-overheid","content":" create directory overheidcopy ebms-admin-2.19.3.jar to overheidstart ebms-admin on port 8000 with the SOAP Interface using a HSQLDB server  java -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -port 8000 -soap -hsqldb   open web browser at http://localhost:8000configure properties at the EbMSAdmin Properties Page set port 8088set database port 9000saverestart ebms-admin upload CPA cpaStubEBF.rm.https.signed.xml at the CPA Upload Page  ","version":"2.19.x","tagName":"h3"},{"title":"Create and configure party Digipoort​","type":1,"pageTitle":"Examples","url":"/ebms-admin/docs/ebms-admin/examples#create-and-configure-party-digipoort","content":" create directory digipoortcopy ebms-admin-2.19.3.jar to digipoortstart ebms-admin on default port 8080 with the SOAP Interface using a HSQLDB server  java -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -soap -hsqldb   open web browser at http://localhost:8080configure properties at the EbMSAdmin Properties Page [Optional] use default properties, so no changessaverestart ebms-admin upload CPA cpaStubEBF.rm.https.signed.xml at the CPA Upload Page  ","version":"2.19.x","tagName":"h3"},{"title":"Send messages from party DigiPoort to Overheid​","type":1,"pageTitle":"Examples","url":"/ebms-admin/docs/ebms-admin/examples#send-messages-from-party-digipoort-to-overheid","content":" send a ping to party OVerheid at the Ping Page CPA Id cpaStubEBF.rm.https.signedFrom Party Id urn:osb:oin:00000000000000000000To Party Id urn:osb:oin:000000000000000000001 send a message to party OVerheid at the SendMessage Page CPA Id cpaStubEBF.rm.https.signedFrom Party Id urn:osb:oin:00000000000000000000From Role DIGIPOORTTo Party Id urn:osb:oin:00000000000000000001To Role OVERHEIDService urn:osb:services:osb:afleveren:1.1$1.0Action afleverenAdd a Data Source [Optional] view traffic at the Traffic Pagefind the different endpoints of the SOAP Interface here  ","version":"2.19.x","tagName":"h3"},{"title":"Send messages from party Overheid to Digipoort​","type":1,"pageTitle":"Examples","url":"/ebms-admin/docs/ebms-admin/examples#send-messages-from-party-overheid-to-digipoort","content":" send a ping to party Digipoort at the Ping Page CPA Id cpaStubEBF.rm.https.signed.xmlFrom Party Id urn:osb:oin:00000000000000000001To Party Id urn:osb:oin:00000000000000000000 send a message to party Digipoort at the SendMessage Page CPA Id cpaStubEBF.rm.https.signed.xmlFrom Party Id urn:osb:oin:00000000000000000001From Role OVERHEIDTo Party Id urn:osb:oin:00000000000000000000To Role DIGIPOORTService urn:osb:services:osb:afleveren:1.1$1.0Action bevestigAfleverenAdd a Data Source [Optional] view traffic at the Traffic Pagefind the different endpoints of the SOAP Interface here ","version":"2.19.x","tagName":"h3"},{"title":"SOAP Interface","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-admin/soap","content":"SOAP Interface The SOAP Interface can be enabled through a command line option. See EbMS API for a description of the SOAP Interface. You can find SoapUI example projects here.","keywords":"","version":"2.19.x"},{"title":"Deployment Scenarios","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-admin/deployment","content":"","keywords":"","version":"2.19.x"},{"title":"Basic​","type":1,"pageTitle":"Deployment Scenarios","url":"/ebms-admin/docs/ebms-admin/deployment#basic","content":"   ","version":"2.19.x","tagName":"h2"},{"title":"Behind a reverse proxy​","type":1,"pageTitle":"Deployment Scenarios","url":"/ebms-admin/docs/ebms-admin/deployment#behind-a-reverse-proxy","content":" Scenario 1​    The reverse proxy is only used for incoming traffic.  Scenario 2​    The reverse proxy is used for both incoming and outgoing traffic.  See the URLMapping Service for overriding the CPA's endpoint URL to point to the Reverse Proxy.  ","version":"2.19.x","tagName":"h3"},{"title":"Using a forward proxy​","type":1,"pageTitle":"Deployment Scenarios","url":"/ebms-admin/docs/ebms-admin/deployment#using-a-forward-proxy","content":" See here for the forward proxy settings.    The forward proxy is used for outgoing traffic.  ","version":"2.19.x","tagName":"h3"},{"title":"Scaling​","type":1,"pageTitle":"Deployment Scenarios","url":"/ebms-admin/docs/ebms-admin/deployment#scaling","content":" ","version":"2.19.x","tagName":"h2"},{"title":"Scaling through CPAs​","type":1,"pageTitle":"Deployment Scenarios","url":"/ebms-admin/docs/ebms-admin/deployment#scaling-through-cpas","content":"   If your application connects to different parties using different CPAs, then you can load the different CPAs into different EbMS adapters, so that each EbMS adapter only handles one or several CPAs. Each EbMS adapter will have its own (unique) endpoint that also needs to be defined in the CPA(s) it handles.  ","version":"2.19.x","tagName":"h3"},{"title":"Scaling with serverId​","type":1,"pageTitle":"Deployment Scenarios","url":"/ebms-admin/docs/ebms-admin/deployment#scaling-with-serverid","content":"   You can deploy different EbMS adapters each configured with a unique serverId. Each EbMS adapter will then handle its own requests. For this all EbMS adapters have to use the same database (cache and queues). The EbMS adapters need to be placed behind a load balancer so all the EbMS adapters are exposed at the same endpoint. In this way the load will spread amoungst the different EbMS adapters. You can also place a load balancer between your application(s) and the EbMS adapters.  ","version":"2.19.x","tagName":"h3"},{"title":"Advanced scaling​","type":1,"pageTitle":"Deployment Scenarios","url":"/ebms-admin/docs/ebms-admin/deployment#advanced-scaling","content":" You can start the EbMS adapter in EbMS Server, EbMS Client, SOAP API or Web Interface mode. You can also start multiple EbMS Servers, EbMS Clients, SOAP APIs and Web Interfaces simultaniously. All EbMS Servers, EbMS Clients, SOAP APIs and Web Interfaces have to use the same database (cache and queues). In this way you can divide the load over different components.   ","version":"2.19.x","tagName":"h3"},{"title":"EbMS Core","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-core","content":"EbMS Core","keywords":"","version":"2.19.x"},{"title":"Installation and Configuration","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-admin/installation","content":"","keywords":"","version":"2.19.x"},{"title":"Prerequisites​","type":1,"pageTitle":"Installation and Configuration","url":"/ebms-admin/docs/ebms-admin/installation#prerequisites","content":" download and install Java 11 (or later)provide a supported database and download the appropriate JDBC driverdownload ebms-admin-2.19.3.jar  ","version":"2.19.x","tagName":"h2"},{"title":"Installation​","type":1,"pageTitle":"Installation and Configuration","url":"/ebms-admin/docs/ebms-admin/installation#installation","content":" create directory ebms-admincopy ebms-admin-2.19.3.jar to ebms-admin  ","version":"2.19.x","tagName":"h2"},{"title":"Configuration​","type":1,"pageTitle":"Installation and Configuration","url":"/ebms-admin/docs/ebms-admin/installation#configuration","content":" Create the file ebms-admin.embedded.properties in ebms-admin and configure the propertiesConfigure Flyway to load the database scripts automatically or load the database scripts manually  The EbMS interface is configured through properties. The Web and SOAP interfaces are configured through command line options.  See here for a functional overview of the EbMS adapter.  ","version":"2.19.x","tagName":"h2"},{"title":"Start​","type":1,"pageTitle":"Installation and Configuration","url":"/ebms-admin/docs/ebms-admin/installation#start","content":" start ebms-admin on default port 8080 with the SOAP interface enabled and using JDBC driver &lt;jdbc-driver&gt;.jar  java -cp &lt;jdbc-driver&gt;.jar:ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -soap   When you start ebms-admin you can see the following output in your console  Using config directory: Web Server configured on http://localhost:8080/ SOAP Service configured on http://localhost:8080/service EbMS Service configured on https://localhost:8888/ebms Starting Server... Server started.   It shows how the Web interface, SOAP interface en EbMS Server endpoints are configured. You can find the different SOAP interface endpoints when you open your browser at http://localhost:8080/service.  See here for all command line options. See here for more examples.  You can install ebms-admin as a Java service on Windows or Linux using a Java Service Wrapper. ","version":"2.19.x","tagName":"h2"},{"title":"Development","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-core/development","content":"","keywords":"","version":"2.19.x"},{"title":"Java​","type":1,"pageTitle":"Development","url":"/ebms-admin/docs/ebms-core/development#java","content":" ebms-core is compiled and tested with OpenJDK 11  ","version":"2.19.x","tagName":"h2"},{"title":"Maven​","type":1,"pageTitle":"Development","url":"/ebms-admin/docs/ebms-core/development#maven","content":" ebms-core is released in the Central Maven repository:  &lt;dependency&gt; &lt;groupId&gt;nl.clockwork.ebms&lt;/groupId&gt; &lt;artifactId&gt;ebms-core&lt;/artifactId&gt; &lt;version&gt;2.19.3&lt;/version&gt; &lt;/dependency&gt;   ","version":"2.19.x","tagName":"h2"},{"title":"Sources​","type":1,"pageTitle":"Development","url":"/ebms-admin/docs/ebms-core/development#sources","content":" You can find the sources here and here  ","version":"2.19.x","tagName":"h3"},{"title":"Build​","type":1,"pageTitle":"Development","url":"/ebms-admin/docs/ebms-core/development#build","content":" mvn clean package   ","version":"2.19.x","tagName":"h3"},{"title":"Testing​","type":1,"pageTitle":"Development","url":"/ebms-admin/docs/ebms-core/development#testing","content":" mvn clean verify   ","version":"2.19.x","tagName":"h3"},{"title":"Generate reports​","type":1,"pageTitle":"Development","url":"/ebms-admin/docs/ebms-core/development#generate-reports","content":" mvn site # or to generate individual reports: mvn jacoco:report mvn cobertura:cobertura mvn org.owasp:dependency-check-maven:check mvn checkstyle:checkstyle mvn jdepend:generate mvn jxr:jxr mvn jxr:test-jxr mvn pmd:pmd mvn surefire:test mvn com.github.spotbugs:spotbugs-maven-plugin:check mvn com.github.spotbugs:spotbugs-maven-plugin:spotbugs mvn taglist:taglist  ","version":"2.19.x","tagName":"h3"},{"title":"Properties","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-admin/properties","content":"","keywords":"","version":"2.19.x"},{"title":"Override Properties​","type":1,"pageTitle":"Properties","url":"/ebms-admin/docs/ebms-admin/properties#override-properties","content":" To override the default properties create the file ebms-admin.embedded.properties in the configDir and add the properties to that file.  You can also configure the basic properties at EbMSAdminPropertiesPage after you started ebms-admin. If you want to override 'advanced' properties that are not included in the ebms-admin.embedded.properties file that is created, create the file ebms-admin.embedded.advanced.properties in the configDir and add the 'advanced' properties to that file.  You can also override properties by setting them as environment variables. You can for example override property ebms.port with value 80 as follows  export ebms_port=80   This is especially useful when configuring containers  ","version":"2.19.x","tagName":"h2"},{"title":"Basic Properties​","type":1,"pageTitle":"Properties","url":"/ebms-admin/docs/ebms-admin/properties#basic-properties","content":" DatabaseEbMS ServerSSLSSL Server keystoreSSL Client KeystoreTruststoreForward ProxyOverflow attachments to diskEbMS Signature keystoreEbMS Encryption keystoreEbMS Message StorageEbMS EventListener  ","version":"2.19.x","tagName":"h2"},{"title":"Default Properties​","type":1,"pageTitle":"Properties","url":"/ebms-admin/docs/ebms-admin/properties#default-properties","content":" Below the contents of ebms-admin's default.properties file. These are the default settings for ebms-admin.  ","version":"2.19.x","tagName":"h2"},{"title":"Database​","type":1,"pageTitle":"Properties","url":"/ebms-admin/docs/ebms-admin/properties#database","content":" These properties override these default ebms-core properties.  ebms.jdbc.driverClassName=org.hsqldb.jdbcDriver ebms.jdbc.url=jdbc:hsqldb:hsql://localhost:9001/ebms ebms.jdbc.username=sa ebms.jdbc.password=   ","version":"2.19.x","tagName":"h3"},{"title":"EbMS Server​","type":1,"pageTitle":"Properties","url":"/ebms-admin/docs/ebms-admin/properties#ebms-server","content":" Properties for the EbMS Server endpoint used to connect to another EbMS adapter.  ebms.host=0.0.0.0 ebms.port=8888 ebms.path=/ebms ebms.ssl=true ebms.connectionLimit= ebms.queriesPerSecond= ebms.userQueriesPerSecond=   ","version":"2.19.x","tagName":"h3"},{"title":"SSL Server keystore​","type":1,"pageTitle":"Properties","url":"/ebms-admin/docs/ebms-admin/properties#ssl-server-keystore","content":" Holds the SSL key (and related certificates) for the EbMS Server endpoint.  # KeystoreType: JCEKS | JKS | DKS | PKCS11 | PKCS12 keystore.type=PKCS12 keystore.path=nl/clockwork/ebms/keystore.p12 keystore.password=password keystore.defaultAlias=   ","version":"2.19.x","tagName":"h3"},{"title":"SSL​","type":1,"pageTitle":"Properties","url":"/ebms-admin/docs/ebms-admin/properties#ssl","content":" https.protocols and https.cipherSuites override these default ebms-core properties. If https.requireClientAuthentication=true then the EbMS Server endpoint requires SSL client authentication.  When SSL offloading is used and the EbMS adapter does not handle incoming SSL itself (see reverse proxy example) and the EbMS adapter is using SSL client certificate validation, then the SSL client certificate can be forwarded as a Base64 DER-encoded HTTP header to the EbMS adapter. The header name can be set in https.clientCertificateHeader (since v2.16.7).  https.protocols=TLSv1.2 https.cipherSuites=TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 https.requireClientAuthentication=false https.clientCertificateHeader=   ","version":"2.19.x","tagName":"h3"},{"title":"User Interface​","type":1,"pageTitle":"Properties","url":"/ebms-admin/docs/ebms-admin/properties#user-interface","content":" maxItemsPerPage=20  ","version":"2.19.x","tagName":"h3"},{"title":"Database support","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-admin/database","content":"","keywords":"","version":"2.19.x"},{"title":"Initialize Flyway​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-admin/database#initialize-flyway","content":" You can use Flyway to migrate your database. To initialize Flyway for the first time on an existing database run DBMigrate.  ","version":"2.19.x","tagName":"h2"},{"title":"DBMigrate​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-admin/database#dbmigrate","content":" With DBMigrate you can migrate your database using Flyway (since v2.17.0). ebms-core also supports automatic update through Flyway.  java -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.DBMigrate -h usage: DBMigrate [-ebmsVersion &lt;arg&gt;] [-h] [-jdbcUrl &lt;arg&gt;] [-password &lt;arg&gt;] [-strict] [-username &lt;arg&gt;] -ebmsVersion &lt;arg&gt; set current ebmsVersion (default: none) -h print this message -jdbcUrl &lt;arg&gt; set jdbcUrl -password &lt;arg&gt; set password -strict use strict db scripts (default: false) -username &lt;arg&gt; set username Valid ebmsVersions: 2.10 2.11 2.12 2.13 2.14 2.15 2.16 2.17   See here for database settings.  caution If you run Flyway for the first time on an existing database, then you have to use the argument -ebmsVersion with your current EbMS database version to initialize the database.  ","version":"2.19.x","tagName":"h2"},{"title":"Examples​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-admin/database#examples","content":" Migrate PostgreSQL database​  Migrate a PostgreSQL database ebms on localhost:5432 with user credentials username/password  java -cp postgresql-42.2.16.jar:ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.DBMigrate \\ -jdbcUrl jdbc:postgresql://localhost:5432/ebms \\ -username=username -password=password   Initialize existing PostgreSQL database​  Initialize and migrate an existing PostgreSQL database ebms on localhost:5432 that is on EbMS database v2.15.x  java -cp postgresql-42.2.16.jar:ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.DBMigrate \\ -ebmsVersion 2.15 \\ -jdbcUrl jdbc:postgresql://localhost:5432/ebms \\ -username username -password password   ","version":"2.19.x","tagName":"h3"},{"title":"DBClean​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-admin/database#dbclean","content":" With DBClean you can cleanup your database (since v2.17.0). You have to configure the database properties before using DBClean. You can find message storage properties here.  java -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.DBClean -h usage: DBClean [-cmd &lt;arg&gt;] [-configDir &lt;arg&gt;] [-cpaId &lt;arg&gt;] [-dateFrom &lt;arg&gt;] [-h] -cmd &lt;arg&gt; objects to clean [vales: cpa|messages] -configDir &lt;arg&gt; set config directory (default=current dir) -cpaId &lt;arg&gt; the cpaId of the CPA to delete -dateFrom &lt;arg&gt; the date from which objects will be deleted [format: YYYYMMDD][default: now - 30 days] -h print this message   ","version":"2.19.x","tagName":"h2"},{"title":"Examples​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-admin/database#examples-1","content":" Cleanup messages from PostgreSQL database​  Cleanup all EbMS messages (and related objects) with persistence date before 30 days ago  java -cp postgresql-42.2.16.jar:ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.DBClean -cmd messages   Cleanup CPA from PostgreSQL database​  Cleanup CPA with cpaId 1 (and all related EbMS messages and other objects)  java -cp postgresql-42.2.16.jar:ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.DBClean -cmd cpa -cpaId=1  ","version":"2.19.x","tagName":"h3"},{"title":"Introduction","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-core/introduction","content":"","keywords":"","version":"2.19.x"},{"title":"Implemented​","type":1,"pageTitle":"Introduction","url":"/ebms-admin/docs/ebms-core/introduction#implemented","content":" Core Functionality Security Module SignatureEncryption Error Handling ModuleSyncReply Module Additional Features: Reliable Messaging ModuleMessage Status ServiceMessage Service Handler Ping Service HTTP(S) Protocol  ","version":"2.19.x","tagName":"h3"},{"title":"Not implemented​","type":1,"pageTitle":"Introduction","url":"/ebms-admin/docs/ebms-core/introduction#not-implemented","content":" Core Functionality Packaging Additional Features Message Order ModuleMulti-Hop Module  ","version":"2.19.x","tagName":"h3"},{"title":"Remarks​","type":1,"pageTitle":"Introduction","url":"/ebms-admin/docs/ebms-core/introduction#remarks","content":" Duplicate messages will always be eliminated and will not be storedOnly standalone MSH level messages are supportedOnly acts as ToPartyMSH, not as nextMSHOnly 1 (=allPurpose) Channel per Action is supportedManifest can only refer to payload data included as part of the messageExtendible to support other communication protocols  ","version":"2.19.x","tagName":"h3"},{"title":"Message Statuses​","type":1,"pageTitle":"Introduction","url":"/ebms-admin/docs/ebms-core/introduction#message-statuses","content":" EbMS messages can have the following statuses   ","version":"2.19.x","tagName":"h3"},{"title":"Release Notes","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-admin/release","content":"","keywords":"","version":"2.19.x"},{"title":"ebms-admin-2.19.4.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2194jar","content":" fixed logging issue (again :-))fixed https.verifyHostname propertyfixed ping with jms configurationreplaced embedded hsqldb by h2updated dependencies  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.19.3.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2193jar","content":" updated dependeciesfixed mssql upgrade scriptsfixed mysql/log4j issuefixed timezone issue in EbMS Headerfixed MSSQL duplicate queryfixed duration issue in CPA  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.19.2.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2192jar","content":" fixed Acknowledgment response MessageHeader  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.19.1.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2191jar","content":" updated dependecies  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.19.0.3.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-21903jar","content":" fixed cache configurationadded missing Flyway dependencies (only in the pom)  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.19.0.2.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-21902jar","content":" fixed rest api configuration  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.19.0.1.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-21901jar","content":" fixed loggingfixed properties page  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.19.0.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2190jar","content":" upgrade to Java 11updated dependeciesremoved storing duplicate messagescleanup database (complying to ANSI SQL 2008 specifications)removed MySQL supportremoved Bitronixremoved Apache HttpClientreplaced URLConnection by Java 11 HttpClientupdated REST API  NB: this release contains some major database changes (especially for MSSQL and MariaDB)  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.18.11.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-21811jar","content":" fixed ping with jms configuration  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.18.10.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-21810jar","content":" updated dependeciesfixed mysql/log4j issuefixed timezone issue in EbMS Headerfixed MSSQL duplicate queryfixed duration issue in CPA  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.18.9.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2189jar","content":" fixed Acknowledgment response MessageHeader  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.18.8.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2188jar","content":" updated dependencies  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.18.7.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2187jar","content":" updated dependenciesadded deleteCache methods for CPA, URL and Certificate servicesfixed issue with URLEncoded PEM when using a custom clientCertificateHeader  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.18.6.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2186jar","content":" updated dependencies for spring, log4j, postgresql, jacksonbugfix: forward proxy configuration issue from admin web-uiupgrade to ebms-core-2.18.6.jar  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.18.5.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2185jar","content":" updated dependenciesadded allow CORS allfixed issue: not hiding password In about screenupgrade to ebms-core-2.18.5.jar  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.18.4.2.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-21842jar","content":" updated log4j dependency to 2.17.0updated spring, cxf dependencies  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.18.4.1.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-21841jar","content":" updated log4j dependency to 2.16.0modified default log4j2.xml to format the message as %m{nolookups}  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.18.4.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2184jar","content":" DBClean implementation changed based on pull request by Lost Lemonupdated various dependencies 83d30c9upgrade to ebms-core-2.18.4.jar  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.18.3.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2183jar","content":" DBClean implementation changed based on pull request by Lost LemonREST service implementation added, more information hereupgrade to ebms-core-2.18.3.jar  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.18.2.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2182jar","content":" fixed DBClean for MSSQL and MySQL, deleting attachmentsadded Apache Kafka integration for delivery eventsadded Microsoft Azure Application Insights and Microsoft Azure Key Vault integrationupgrade to ebms-core-2.18.2.jar  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.18.1.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2181jar","content":" dependency and plugin version upgradesvarious improvements and bugfixesupgrade to ebms-core-2.18.1.jar  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.18.0.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2180jar","content":" upgrade to ebms-core-2.18.0.jar  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.11.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-21711jar","content":" updated dependencies for log4j, spring, mysql, postgresqlbugfix: forward proxy configuration issue from admin web-uiupgrade to ebms-core-2.17.11.jar  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.10.2.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-217102jar","content":" updated log4j dependency to 2.17.0updated spring, cxf dependencies  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.10.1.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-217101jar","content":" updated log4j dependency to 2.16.0modified default log4j2.xml to format the message as %m{nolookups}  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.10.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-21710jar","content":" updated log4j dependency to 2.15.0updated various dependenciesupgrade to ebms-core-2.17.10.jar  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.9.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2179jar","content":" removed @NonNull for name in EbMSDataSource service modelupgrade to ebms-core-2.17.9.jar  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.8.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2178jar","content":" fixed DBClean for MSSQL and MySQL, deleting attachmentsupgrade to ebms-core-2.17.8.jar  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.7.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2177jar","content":" upgrade to ebms-core-2.17.7.jarchanged the starting of the embedded hsqldbmaven plugin version upgradesdependency version upgrades, almost all dependencies updated to latest version which still runs on java 1.8bumped the end-dates of the test CPA's to 2022added Microsoft Azure Application Insights and Microsoft Azure Key Vault integrationfixed zip issuesfixed swallowing errors at server start (server thread)upgraded jetty version  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.6.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2176jar","content":" upgrade to ebms-core-2.17.6.jaradded RemoteAddressMDCFilter  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.5.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2175jar","content":" upgrade to ebms-core-2.17.5.jaradded custom error handler  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.4.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2174jar","content":" upgrade to ebms-core-2.17.4.jarfixed DBClean  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.3.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2173jar","content":" upgrade to ebms-core-2.17.3.jar  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.2.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2172jar","content":" upgrade to ebms-core-2.17.2.jarimproved properties configurationmoved Flyway database migration to ebms-corechanged commandline arguments removed db migration arguments updateDb and updateStrictrenamed rate limiter argument requestsPerSecond to queriesPerSecondadded user rate limiter argument userQueriesPerSecond  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.1.1.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-21711jar-1","content":" fixed updateDb and updateStrict options  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.1.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2171jar","content":" upgrade to ebms-core-2.17.1.jarimproved loggingremoved Jetty Server response headeradded Flyway database migrationadded rate limiterchanged commandline arguments added db migration arguments updateDb and updateStrictadded rate limiter argument requestsPerSecond  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.0.1.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-21701jar","content":" changed default settingschanged configuration of the test scenarioupdated CPA endpoints  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.17.0.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2170jar","content":" upgrade to ebms-core-2.17.0.jaradded options to enable high availability and horizontal scaling (and throttling)changed command line arguments renamed propertiesFilesDir to configDirremoved property log4j.file (use -Dlog4j.configurationFile=log4j2.xml instead)added SSL arguments protocols and cipherSuitesadded JMX argumentsadded arguments disableEbMSClient and disableEbMSServer split up CPAService into CPAService and URLMapperadded new SOAP service CertificateMapperupdated EbMS Admin Properties Pageremoved EbMS Core Properties Pageadded database java command line tools DBMigrate (java -cp ebms-admin-2.17.0.jar nl.clockwork.ebms.admin.DBMigrate -h)DBClean (java -cp ebms-admin-2.17.0.jar nl.clockwork.ebms.admin.DBClean -h)  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.16.8.2.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-21682jar","content":" updated log4j dependency to 2.17.0updated spring, cxf, activemq dependencies  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.16.8.1.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-21681jar","content":" updated log4j dependency to 2.16.0modified default log4j2.xml to format the message as %m{nolookups}  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.16.8.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2168jar","content":" upgrade to ebms-core-2.16.8.jaradded custom error handler  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.16.7.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2167jar","content":" upgrade to ebms-core-2.16.7.jar  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.16.6.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2166jar","content":" upgrade to ebms-core-2.16.6.jarfixed CXF logging  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.16.5.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2165jar","content":" upgrade to ebms-core-2.16.5.jar  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.16.4.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2164jar","content":" upgrade to ebms-core-2.16.4.jaradded new MTOM EbMS SOAP service endpoint on /service/ebmsMTOM  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.16.3.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2163jar","content":" upgrade to ebms-core-2.16.3.jarminor configuration improvements  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.16.2a.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2162ajar","content":" fixed reading the encryption keystore property which caused an error opening the Configuration Page after the encryption keystore was setminor layout improvements  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.16.2.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2162jar","content":" upgrade to ebms-core-2.16.2.jarfixed default value of log4j.file property which caused a startup error when ebms-admin-2.16.1.jar was fresh installed  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-admin-2.16.1.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-admin/release#ebms-admin-2161jar","content":" upgrade to ebms-core-2.16.1.jarupgraded to Java 8HTTPS support for Web and SOAP interfaces (including client certificate authentication)upgraded a lot of libraries (included wicked-charts-wicket8)added the option to use PKCS12 keystores and truststoresremoved all previously included JDBC drivers from the releaseminor improvements ","version":"2.19.x","tagName":"h3"},{"title":"Overview","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-core/overview","content":"","keywords":"","version":"2.19.x"},{"title":"Basic Functionality​","type":1,"pageTitle":"Overview","url":"/ebms-admin/docs/ebms-core/overview#basic-functionality","content":" ebms-core offers the following interfaces  EbMS Interface to connect to other EbMS adaptersEbMS/SOAP API to connect to applications to manage the EbMS adapter  ebms-core is configured through properties. Data is stored in the database.  You can configure EbMS Message Storage and EbMS Attachments overflow to disk.  ","version":"2.19.x","tagName":"h2"},{"title":"Advanced​","type":1,"pageTitle":"Overview","url":"/ebms-admin/docs/ebms-core/overview#advanced","content":" ","version":"2.19.x","tagName":"h2"},{"title":"EventListener​","type":1,"pageTitle":"Overview","url":"/ebms-admin/docs/ebms-core/overview#eventlistener","content":" You can track sent and received messages if you configure the EventListener.  ","version":"2.19.x","tagName":"h3"},{"title":"Scaling​","type":1,"pageTitle":"Overview","url":"/ebms-admin/docs/ebms-core/overview#scaling","content":" To support scaling with serverId and advanced scaling the different components have to use the same database. Also the internal cache has to be synchronized between the components. Furthermore you have to configure the DeliveryManager. When using advanced scaling you also have to configure the DeliveryTaskHandler.  ","version":"2.19.x","tagName":"h3"},{"title":"Data Model​","type":1,"pageTitle":"Overview","url":"/ebms-admin/docs/ebms-core/overview#data-model","content":"  ","version":"2.19.x","tagName":"h2"},{"title":"EbMS API","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-core/api","content":"","keywords":"","version":"2.19.x"},{"title":"CPAService​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#cpaservice","content":" The CPAService contains functionality to manage CPAs.  ","version":"2.19.x","tagName":"h2"},{"title":"validateCPA(cpa)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#validatecpacpa","content":" Validates CPA cpa.  ","version":"2.19.x","tagName":"h3"},{"title":"insertCPA(cpa, overwrite)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#insertcpacpa-overwrite","content":" Stores CPA cpa. If overwrite is true and the CPA exists, it will be overwritten. Returns the cpaId of the CPA.  ","version":"2.19.x","tagName":"h3"},{"title":"deleteCPA(cpaId)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#deletecpacpaid","content":" Removes CPA identified by cpaId.  ","version":"2.19.x","tagName":"h3"},{"title":"getCPAIds()​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#getcpaids","content":" Returns a list of all cpaIds.  ","version":"2.19.x","tagName":"h3"},{"title":"getCPA(cpaId)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#getcpacpaid","content":" Returns the CPA identified by cpaId.  ","version":"2.19.x","tagName":"h3"},{"title":"UrlMappingService​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#urlmappingservice","content":" The UrlMappingService contains functionality to override CPA's urls.  ","version":"2.19.x","tagName":"h2"},{"title":"setURLMapping(urlMapping)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#seturlmappingurlmapping","content":" Stores URL mapping urlMapping.  ","version":"2.19.x","tagName":"h3"},{"title":"deleteURLMapping(source)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#deleteurlmappingsource","content":" Removes URL mapping identified by source URL source.  ","version":"2.19.x","tagName":"h3"},{"title":"getURLMappings()​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#geturlmappings","content":" Returns a list of all URL mappings.  ","version":"2.19.x","tagName":"h3"},{"title":"CertificateMappingService​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#certificatemappingservice","content":" The CertificateMappingService contains functionality to override CPA's certificates.  ","version":"2.19.x","tagName":"h2"},{"title":"setCertificateMapping(certificateMapping)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#setcertificatemappingcertificatemapping","content":" Stores Certificate mapping certificateMapping.  ","version":"2.19.x","tagName":"h3"},{"title":"deleteCertificateMapping(source)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#deletecertificatemappingsource","content":" Removes Certificate mapping identified by source Certificate source.  ","version":"2.19.x","tagName":"h3"},{"title":"getCertificateMappings()​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#getcertificatemappings","content":" Returns a list of all Certificate mappings.  ","version":"2.19.x","tagName":"h3"},{"title":"EbMSMessageService​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#ebmsmessageservice","content":" The EbMSMessageService contains functionality for sending and receiving EbMS messages. There is also an MTOM EbMSMessageService available, which is more efficient.  ","version":"2.19.x","tagName":"h2"},{"title":"ping(cpaId, fromPartyId, toPartyId)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#pingcpaid-frompartyid-topartyid","content":" Performs an EbMS ping action for CPA cpaId, from party fromPartyId to party toPartyId  ","version":"2.19.x","tagName":"h3"},{"title":"sendMessage(message)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#sendmessagemessage","content":" Sends message message as an EbMS message. Returns the messageId of the generated EbMS message.  ","version":"2.19.x","tagName":"h3"},{"title":"resendMessage(messageId)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#resendmessagemessageid","content":" Resends message identified by messageId as an EbMS message. Returns the messageId of the new EbMS message.  ","version":"2.19.x","tagName":"h3"},{"title":"getUnprocessedMessageIds(messageFilter, maxNr)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#getunprocessedmessageidsmessagefilter-maxnr","content":" Returns all messageIds of messages with status RECEIVED that satisfy filter messageFilter. If maxNr is given, then maxNr messageIds are returned.  ","version":"2.19.x","tagName":"h3"},{"title":"getMessage(messageId, process)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#getmessagemessageid-process","content":" Returns the message identified by messageId. If process is true, the message is given the status PROCESSED, which means that it is no longer returned in the list of getUnprocessedMessageIds.  ","version":"2.19.x","tagName":"h3"},{"title":"processMessage(messageId)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#processmessagemessageid","content":" Sets the status of the message identified by messageId to PROCESSED, so that it is no longer returned in the list of getUnprocessedMessageIds.  ","version":"2.19.x","tagName":"h3"},{"title":"getMessageStatus(messageId)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#getmessagestatusmessageid","content":" Returns the message status of the message identified by messageId.  ","version":"2.19.x","tagName":"h3"},{"title":"getUnprocessedMessageEvents(messageFilter, eventTypes, maxNr)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#getunprocessedmessageeventsmessagefilter-eventtypes-maxnr","content":" Returns the events that satisfy filter messageFilter and event types eventTypes. If maxNr is given, then maxNr events are returned. The possible event types are  RECEIVED - when a message is receivedDELIVERED - when a message has been sent successfullyFAILED - when a message returns an error while sendingEXPIRED - when a message could not be sent within the number of attempts and time defined in the CPA  Events can only be retrieved with this method when EventListener property eventListener.type is set to DAO.  ","version":"2.19.x","tagName":"h3"},{"title":"processMessageEvent(messageId)​","type":1,"pageTitle":"EbMS API","url":"/ebms-admin/docs/ebms-core/api#processmessageeventmessageid","content":" Sets processed to true for the event of the message identified by messageId, so that it is no longer returned in the list of getUnprocessedMessageEvents (and getUnprocessedMessageIds in case of a RECEIVED event). ","version":"2.19.x","tagName":"h3"},{"title":"SSL Configuration","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-admin/ssl","content":"","keywords":"","version":"2.19.x"},{"title":"Keystore​","type":1,"pageTitle":"SSL Configuration","url":"/ebms-admin/docs/ebms-admin/ssl#keystore","content":" You can configure 2 SSL keystores for the EbMS interface (and 2 for the Web/SOAP/REST interface):  A SSL Server keystore to configure TLSA SSL Client keystore to configure mTLS  In many cases the SSL server certificates are the same as the SSL client certificates. If so you can use the same keystore for both. If not create and configure 2 separate keystores.  ","version":"2.19.x","tagName":"h2"},{"title":"Create a keystore​","type":1,"pageTitle":"SSL Configuration","url":"/ebms-admin/docs/ebms-admin/ssl#create-a-keystore","content":" To create the SSL keystore you need the private key, the signed certificate and certificate chain. The signed certificate is normally also needed to request/create a CPA and you can configure the EbMS adapter to validate the received certificate with the one in the corresponding CPA (which is off by default).  To create a keystore you need openssl.  Create a private key and a CSR​  openssl req -new -sha256 -newkey rsa:4096 -keyout localhost.key -out localhost.csr -subj &quot;/C=NL/ST=Groningen/L=Groningen/O=Ordina/OU=OSD/CN=ebms.ordina.nl&quot;   Where you replace the subject with your own parameters (where the Common Name (CN) should/can contain the EbMS server's Domain Name). This results in the file localhost.key that contains the private key and the file localhost.csr that contains the Certificate Signing Request (CSR).  Sign the certificate​  Send the CSR to your Certificate Authority to sign the certificate. The private key localhost.key has to remain secret. You should receive a Signed Certificate and the corresponding Certificate Chain.  Create the SSL keystore​  Put the Signed certificate in the file localhost.pem and the certificate chain in the file ca.pem.  openssl pkcs12 -export -out keystore.p12 -name &quot;localhost&quot; -inkey localhost.key -in localhost.pem -certfile ca.pem   This results in the SSL keystore keystore.p12.  ","version":"2.19.x","tagName":"h3"},{"title":"Configure the EbMS SSL server keystore​","type":1,"pageTitle":"SSL Configuration","url":"/ebms-admin/docs/ebms-admin/ssl#configure-the-ebms-ssl-server-keystore","content":" See here to configure the EbMS server keystore, where keystore.path points to the SSL server keystore.  ","version":"2.19.x","tagName":"h3"},{"title":"Configure the EbMS SSL client keystore​","type":1,"pageTitle":"SSL Configuration","url":"/ebms-admin/docs/ebms-admin/ssl#configure-the-ebms-ssl-client-keystore","content":" See here to configure the EbMS client keystore, where client.keystore.path points to the SSL client keystore.  ","version":"2.19.x","tagName":"h3"},{"title":"Configure the Web/SOAP/REST SSL server keystore​","type":1,"pageTitle":"SSL Configuration","url":"/ebms-admin/docs/ebms-admin/ssl#configure-the-websoaprest-ssl-server-keystore","content":" See here to configure the Web/SOAP/REST server keystore, where -keystorePath points to the SSL server keystore.  ","version":"2.19.x","tagName":"h3"},{"title":"Truststore​","type":1,"pageTitle":"SSL Configuration","url":"/ebms-admin/docs/ebms-admin/ssl#truststore","content":" ","version":"2.19.x","tagName":"h2"},{"title":"Create a truststore​","type":1,"pageTitle":"SSL Configuration","url":"/ebms-admin/docs/ebms-admin/ssl#create-a-truststore","content":" The EbMS truststore contains the SSL certificate chains for all trusted parties and the EbMS signing and encryption certificate chains of the certificates defined in the CPAs. The Web/SOAP/REST truststore only contains SSL certificate chain if mTLS is configured.  Put all the certificates of the certificate chain in separate files. The example below has a chain that contains 2 certificates:  a root certificate in the file root.peman intermediate certificate in the file intermediate.pem  To create a truststore you need openssl and keytool (which is part of a JDK).  Create a Java keystore​  You only need to trust the first certificate of a chain if you add the certificates in the right order starting at the root certificate.  keytool -import -trustcacerts -alias root -file root.pem -keystore truststore.jks keytool -import -trustcacerts -alias intermediate -file intermediate.pem -keystore truststore.jks   This results in the Java keystore file truststore.jks.  Convert the Java keystore to a PKSC12 keystore​  keytool -importkeystore -srckeystore truststore.jks -srcstoretype JKS -destkeystore truststore.p12 -deststoretype PKCS12   This results in the PKCS12 keystore file truststore.p12.  ","version":"2.19.x","tagName":"h3"},{"title":"Configure the EbMS truststore​","type":1,"pageTitle":"SSL Configuration","url":"/ebms-admin/docs/ebms-admin/ssl#configure-the-ebms-truststore","content":" See here to configure the EbMS truststore, where truststore.path points to the SSL truststore.  ","version":"2.19.x","tagName":"h3"},{"title":"Configure the Web/SOAP/REST SSL truststore​","type":1,"pageTitle":"SSL Configuration","url":"/ebms-admin/docs/ebms-admin/ssl#configure-the-websoaprest-ssl-truststore","content":" See here to configure the Web/SOAP/REST client keystore, where -clientTruststorePath points to the SSL truststore. ","version":"2.19.x","tagName":"h3"},{"title":"Roadmap","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-core/roadmap","content":"","keywords":"","version":"2.19.x"},{"title":"release 2.19.x​","type":1,"pageTitle":"Roadmap","url":"/ebms-admin/docs/ebms-core/roadmap#release-219x","content":" upgrade to Java 11  ","version":"2.19.x","tagName":"h3"},{"title":"release 2.20.x​","type":1,"pageTitle":"Roadmap","url":"/ebms-admin/docs/ebms-core/roadmap#release-220x","content":" upgrade to Java 17  ","version":"2.19.x","tagName":"h3"},{"title":"improvements​","type":1,"pageTitle":"Roadmap","url":"/ebms-admin/docs/ebms-core/roadmap#improvements","content":" replace byte array oriented signing and encryption libraries by streaming oriented ones ","version":"2.19.x","tagName":"h3"},{"title":"Home","type":0,"sectionRef":"#","url":"/ebms-admin/docs/intro","content":"Home EbMS adapter for Java. Supports EbMS 2.0 specification. Was initially developed to support the Digipoort EbMS specification, as defined by Logius for the Dutch government. See here for more information Please consider a donation to help maintaining this project here or here.","keywords":"","version":"2.19.x"},{"title":"Release Notes","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-core/release","content":"","keywords":"","version":"2.19.x"},{"title":"ebms-core-2.19.4.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2194jar","content":" fixed https.verifyHostname propertyfixed ping with jms configurationreplaced embedded hsqldb by h2updated dependencies  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.19.3.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2193jar","content":" updated dependeciesfixed mssql upgrade scriptsfixed timezone issue in EbMS Headerfixed MSSQL duplicate queryfixed duration issue in CPA  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.19.2.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2192jar","content":" fixed Acknowledgment response MessageHeader  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.19.1.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2191jar","content":" updated dependecies  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.19.0.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2190jar","content":" upgrade to Java 11updated dependeciesremoved storing duplicate messagescleanup database (complying to ANSI SQL 2008 specifications)removed MySQL supportremoved Bitronixremoved Apache HttpClientreplaced URLConnection by Java 11 HttpClientupdated REST API  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.18.11.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-21811jar","content":" fixed ping with jms configuration  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.18.10.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-21810jar","content":" updated dependeciesfixed timezone issue in EbMS Headerfixed MSSQL duplicate queryfixed duration issue in CPA  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.18.9.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2189jar","content":" fixed Acknowledgment response MessageHeader  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.18.8.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2188jar","content":" updated dependencies  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.18.7.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2187jar","content":" updated dependenciesadded deleteCache methods for CPA, URL and Certificate services  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.18.6.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2186jar","content":" updated dependencies for spring, postgresql, jacksonbugfix: NullPointerException on delivery failure in best effort modebugfix: serverId not null if not (explicitly) overriddenbugfix: mysql/mssql deleteAttachments override to include correct db-columnimprovement: rest responsetype for CPA service implementation  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.18.5.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2185jar","content":" updated various dependenciesfix Azure keyvault integration config  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.18.4.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2184jar","content":" updated various dependencies 0918189  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.18.3.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2183jar","content":" update CPAManager: changed streams, naming and extended testsREST service interface added(initial) Apache JMeter tests added for performance testing the SOAP and REST interface  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.18.2.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2182jar","content":" removed Querydsl (+ issue fixes)added Apache Kafka integration for delivery eventsadded Microsoft Azure Key Vault integration  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.18.1.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2181jar","content":" fix, notnull datasourcedependency and plugin version upgradesfixed issue with conversationId used as messageIdjax instant and duration converter 2 adaptersadded HTTP read timeout as requested by Capgeminifixed bug: NullPointerException occurs when an attachment has no nameimplemented a fix proposed by Lost Lemon, a too strict xsd validation causes the adapter to break at startup. added XXE vuln test taken from the 2.17 branch  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.18.0.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2180jar","content":" improved SOAP interfaceadded QuartzDeliveryTaskManager and QuartzJMSDeliveryTaskManagerrenamed EbMSEvent to DeliveryTaskrenamed EbMSEventLog to DeliveryLogrenamed EbMSMessageEvent to MessageEventrenamed JMS SendTask queue from SEND to DELIVERY_TASKrenamed properties eventProcessor.* to deliveryTaskHandler.*renamed table ebms_event to send_taskrenamed table ebms_event_log to send_logrenamed table ebms_message_event to ebms_event  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.17.11.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-21711jar","content":" updated dependencies for spring, mysql, postgresql, ignite, h2bugfix: serverId not null if not (explicitly) overriddenbugfix: mysql/mssql deleteAttachments override to include correct db-column  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.17.10.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-21710jar","content":" updated various dependencies 70b51a4  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.17.9.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2179jar","content":" update xmlsec dependency versionremoved @NonNull for name in EbMSDataSource service model  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.17.8.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2178jar","content":" removed querydsl (+ issue fixes)  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.17.7.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2177jar","content":" maven plugin version upgradesdependency version upgrades, almost all dependencies updated to latest version which still runs on java 1.8changed jaxb instant and duration converters to adaptersadded Microsoft Azure Key Vault integrationfixed issue with conversationId used as messageIdfixed NullPointerException when sending message in Best Effort mode  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.17.6.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2176jar","content":" bugfix: NullPointerException occurs when an attachment has no nameadded property http.readTimeoutadded RemoteAddressMDCFilterimproved XSD validationimproved error handling  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.17.5.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2175jar","content":" added MDC loggingimproved XML parsingimproved error handling  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.17.4.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2174jar","content":" implemented HealthServletfixed DB2 and Oracle XA configurationfixed H2, MSSQL DAOsfixed DB2, H2, MSSQL, MySQL/MariaDB and Oracle flyway scripts  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.17.3.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2173jar","content":" fixed URLMapperrenamed status SENDING to CREATEDupdated libraries  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.17.2.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2172jar","content":" added UserRateLimiterFilteradded EventListenerFilter added default property eventListener.filter= added H2 database supportadded Flyway database migration added default properties ebms.jdbc.update=falseebms.jdbc.strict=false  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.17.1.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2171jar","content":" improved loggingimproved error responsesfixed auto retry responses only if best effortfixed configuration issue, that causes send events to be rejectedfixed EbMS Server, EbMS Client and SOAP API modeadded rate limiter added default property http.requestsPerSecond=  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.17.0.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2170jar","content":" added options to enable high availability and horizontal scaling (and throttling)added option to use SSL client certtificate defined in the CPA to send messages (https.useClientCertificate) added CertificateMapper SOAP service to override defined SSL client certificate cleaned up and split up SOAP interfaceschanged SOAP Services renamed operations from EbMSMessageService GetMessageIds to GetUnprocessedMessageIdsGetMessageEvents to GetUnprocessedMessageEvents removed operations from EbMSMessageService SendMessageWithAttachments (use SendMessage from ebmsMTOM instead)GetMassageStatus is replaced by GetMessageStatusByMessageId, old GetMessageStatus is removedProcessMessages (use ProcessMessage instead)ProcessMessageEvents (use ProcessMessageEvent instead) split up CPAService into CPAService and URLMapper changed default properties removed properties ebms.allowMultipleServers (leave property ebms.serverId empty to set allowMultipleServers to false)patch.digipoort.enable (not necessary anymore)patch.oracle.enable (not necessary anymore)patch.cleo.enable (not necessary anymore)cache.disabled (use cache.type instead)eventProcessor.enabled=true (use eventProcessor.type=NONE instead) changed default value of property http.base64Writer to false (writer is disabled anyway because of an issue)https.clientCertificateAuthentication to false added properties https.useClientCertificate=falseclient.keystore.keyPassword=${client.keystore.password}client.keystore.defaultAlias=signature.keystore.keyPassword=${signature.keystore.password}encryption.keystore.keyPassword=${encryption.keystore.password}cache.type=DEFAULT (allowed values: DEFAULT (SPRING) | EHCACHE | IGNITE)eventProcessor.type=DEFAULT (allowed values: NONE | DEFAULT (DAO) | JMS)deliveryManager.type=DEFAULT (allowed types: DEFAULT (DAO) | JMS)eventListener.type=DEFAULT (allowed values: DEFAULT (LOGGING) | DAO | SIMPLE_JMS | JMS | JMS_TEXT)transactionManager.type=DEFAULT (allowed values: DEFAULT | ATOMIKOS) see src/main/resources/nl/clockwork/ebms/default.properties for all available properties implemented JMS components (for scaling)added Atomikos transaction manager (for JMS)added Apache Ignite cache manager (for scaling)added Flyway to install and upgrade databasecode improvements added Lombok and VAVRmade objects immutable where possiblemoved Spring bean configuration from XML to coderestructured classes and packagesreconfigured caching and transactionssplit up DAOreplaced String JDBC by QueryDSLreplace Commons-Logging by SLF4Jlots of other improvements updated librariesdatabase updates and improved indices  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.16.8.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2168jar","content":" improved XML parsingimproved error handling  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.16.7.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2167jar","content":" disabled base64Writer because of a bug when sending base64 encoded contentfixed using header defined in property x509CertificateHeader  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.16.6.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2166jar","content":" fixed bug: the references in a signed acknowledgment is not validated correctly, which will not set the status of the message to DELIVERED but eventually to EXPIRED insteadfixed issue using asynchronous messaging and no receive deliveryChannel can be found. The message will be stored and returned synchronously as an error nowfixed deliveryChannel validation not handled correctly, causing a SOAP fault being returned instead of a EbMS MessageError in case of an error  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.16.5.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2165jar","content":" optimized memory usage by using CachedOutputStream for attachments that overflows to disk added property ebmsMessage.attachment.memoryTreshold - default: 128KBadded property ebmsMessage.attachment.outputDirectory - default: &lt;tempDir&gt;added property ebmsMessage.attachment.cipherTransformation - default: none  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.16.4.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2164jar","content":" fixed EbMSEventProcessor: the processor sometimes stops processing after an error occurs, so the ebms adapter stops sending messagesfixed query in deleteEbMSAttachmentsOnMessageProcessedfixed messageId: the hostname is not prepended anymore when the messageId is givenadded new MTOM EbMS SOAP service  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.16.3.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2163jar","content":" fixed bug: messages are sometimes sent more than once at (almost) the same timeimproved EbMSEventProcessorrenamed property jobScheduler.enabled to eventProcessor.enabledrenamed property jobScheduler.delay to eventProcessor.delayrenamed property jobScheduler.period to eventProcessor.periodrenamed property job.maxTreads to eventProcessor.maxTreadsrenamed property job.processorsScaleFactor to eventProcessor.processorsScaleFactorrenamed property job.queueScaleFactor to eventProcessor.queueScaleFactorimproved EbMSResponseHandlerrenamed property http.errors.server.irrecoverable to http.errors.server.unrecoverable  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.16.2.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2162jar","content":" removed MIME-Version header  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.16.1.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2161jar","content":" improved client SSL behaviouradded keystore type supportminor improvements  ","version":"2.19.x","tagName":"h3"},{"title":"ebms-core-2.16.0.jar​","type":1,"pageTitle":"Release Notes","url":"/ebms-admin/docs/ebms-core/release#ebms-core-2160jar","content":" upgraded to Java 8minor improvements ","version":"2.19.x","tagName":"h3"},{"title":"Command Line Options","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-admin/command","content":"","keywords":"","version":"2.19.x"},{"title":"Show help​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#show-help","content":" java -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -h usage: StartEmbedded [-applicationInsights] [-auditLogging] [-authentication] [-cipherSuites &lt;arg&gt;] [-clientAuthentication] [-clientCertificateHeader &lt;arg&gt;] [-clientTrustStorePassword &lt;arg&gt;] [-clientTrustStorePath &lt;arg&gt;] [-clientTrustStoreType &lt;arg&gt;] [-configDir &lt;arg&gt;] [-connectionLimit &lt;arg&gt;] [-disableEbMSClient] [-disableEbMSServer] [-h] [-headless] [-health] [-healthPort &lt;arg&gt;] [-host &lt;arg&gt;] [-hsqldb] [-hsqldbDir &lt;arg&gt;] [-jmx] [-jmxAccessFile &lt;arg&gt;] [-jmxPasswordFile &lt;arg&gt;] [-jmxPort &lt;arg&gt;] [-keyStorePassword &lt;arg&gt;] [-keyStorePath &lt;arg&gt;] [-keyStoresType &lt;arg&gt;] [-keyStoreType &lt;arg&gt;] [-keyvaultClientId &lt;arg&gt;] [-keyvaultClientSecret &lt;arg&gt;] [-keyvaultTennantId &lt;arg&gt;] [-keyvaultUri &lt;arg&gt;] [-path &lt;arg&gt;] [-port &lt;arg&gt;] [-protocols &lt;arg&gt;] [-queriesPerSecond &lt;arg&gt;] [-soap] [-ssl] [-trustStorePassword &lt;arg&gt;] [-trustStorePath &lt;arg&gt;] [-trustStoreType &lt;arg&gt;] [-userQueriesPerSecond &lt;arg&gt;] -applicationInsights enable applicationInsights -auditLogging enable audit logging -authentication use basic | client certificate authentication -cipherSuites &lt;arg&gt; set ssl cipherSuites [default: &lt;none&gt;] -clientAuthentication require ssl client authentication -clientCertificateHeader &lt;arg&gt; set client certificate header [default: &lt;none&gt;] -clientTrustStorePassword &lt;arg&gt; set client truststore password [default: &lt;none&gt;] -clientTrustStorePath &lt;arg&gt; set client truststore path [default: &lt;none&gt;] -clientTrustStoreType &lt;arg&gt; set client truststore type [default: PKCS12] -configDir &lt;arg&gt; set config directory [default: &lt;startup_directory&gt;] -connectionLimit &lt;arg&gt; set connection limit [default: &lt;none&gt;] -disableEbMSClient disable ebms client -disableEbMSServer disable ebms server -h print this message -headless start without web interface -health start health service -healthPort &lt;arg&gt; set health service port [default: 8008] -host &lt;arg&gt; set host [default: 0.0.0.0] -hsqldb start hsqldb server -hsqldbDir &lt;arg&gt; set hsqldb location [default: hsqldb] -jmx start jmx server -jmxAccessFile &lt;arg&gt; set jmx access file [default: &lt;none&gt;] -jmxPasswordFile &lt;arg&gt; set jmx password file [default: &lt;none&gt;] -jmxPort &lt;arg&gt; set jmx port [default: 1999] -keyStorePassword &lt;arg&gt; set keystore password [default: password] -keyStorePath &lt;arg&gt; set keystore path [default: nl/clockwork/ebms/keystore.p12] -keyStoresType &lt;arg&gt; set keystores type [default: &lt;none&gt;] -keyStoreType &lt;arg&gt; set keystore type [default: PKCS12] -keyvaultClientId &lt;arg&gt; set keyvault client id [default: &lt;none&gt;] -keyvaultClientSecret &lt;arg&gt; set keyvault client secret [default: &lt;none&gt;] -keyvaultTennantId &lt;arg&gt; set keystore tennant identity [default: &lt;none&gt;] -keyvaultUri &lt;arg&gt; set keystore uri [default: &lt;none&gt;] -path &lt;arg&gt; set path [default: /] -port &lt;arg&gt; set port [default: &lt;8080|8443&gt;] -protocols &lt;arg&gt; set ssl protocols [default: &lt;none&gt;] -queriesPerSecond &lt;arg&gt; set requests per second limit [default: &lt;none&gt;] -soap start soap service -ssl use ssl -trustStorePassword &lt;arg&gt; set truststore password [default: &lt;none&gt;] -trustStorePath &lt;arg&gt; set truststore path [default: &lt;none&gt;] -trustStoreType &lt;arg&gt; set truststore type [default: PKCS12] -userQueriesPerSecond &lt;arg&gt; set requests per user per secondlimit [default: &lt;none&gt;]   ","version":"2.19.x","tagName":"h2"},{"title":"Start with the embedded HSQLDB server​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-with-the-embedded-hsqldb-server","content":" java -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -hsqldb   ","version":"2.19.x","tagName":"h2"},{"title":"Start using a PostgreSQL JDBC driver​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-using-a-postgresql-jdbc-driver","content":" java -cp postgresql-42.2.14.jar:ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded   ","version":"2.19.x","tagName":"h2"},{"title":"Start on port 8000​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-on-port-8000","content":" Start Web/SOAP interface on port 8000 (instead of 8080)  java -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -port 8000   ","version":"2.19.x","tagName":"h2"},{"title":"Start using IPv4 only sockets​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-using-ipv4-only-sockets","content":" java -Djava.net.preferIPv4Stack=true -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded   ","version":"2.19.x","tagName":"h2"},{"title":"Start with SOAP interface​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-with-soap-interface","content":" java -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -soap   ","version":"2.19.x","tagName":"h2"},{"title":"Start with SOAP interface and without a Web interface​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-with-soap-interface-and-without-a-web-interface","content":" java -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -soap -headless   ","version":"2.19.x","tagName":"h2"},{"title":"Start with config directory conf/​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-with-config-directory-conf","content":" By default the config directory is the directory from which you start the ebms-admin. You can change the config directory by setting configDir  java -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -configDir conf/   ","version":"2.19.x","tagName":"h2"},{"title":"Start with a custom log4j2 file log4j2.xml​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-with-a-custom-log4j2-file-log4j2xml","content":" java -Dlog4j.configurationFile=log4j2.xml -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded   ","version":"2.19.x","tagName":"h2"},{"title":"Start without using the default Java truststore​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-without-using-the-default-java-truststore","content":" java -Djavax.net.ssl.trustStore= -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded   ","version":"2.19.x","tagName":"h2"},{"title":"Start with HTTPS​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-with-https","content":" Start with HTTPS Web/SOAP interface using keystore keystore.p12  java -Djavax.net.ssl.trustStore= -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded \\ -ssl -keyStoreType PKCS12 -keyStorePath keystore.p12 -keyStorePassword password   ","version":"2.19.x","tagName":"h2"},{"title":"Start with HTTPS and client authentication​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-with-https-and-client-authentication","content":" Start with HTTPS Web/SOAP interface using keystore keystore.p12 and require SSL client authentication using truststore truststore.p12 (which holds the client's certificate chain)  java -Djavax.net.ssl.trustStore= -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded \\ -ssl -keyStoreType PKCS12 -keyStorePath keystore.p12 -keyStorePassword password \\ -clientAuthentication -trustStoreType PKCS12 -trustStorePath truststore.p12 -trustStorePassword password   ","version":"2.19.x","tagName":"h2"},{"title":"Start with HTTPS, client authentication and client certifiate authentication​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-with-https-client-authentication-and-client-certifiate-authentication","content":" Start with HTTPS Web/SOAP interface using keystore keystore.p12 and require SSL client authentication using truststore truststore.p12 (which holds the client's certificate chain) and authenticate client SSL certificate using clientTruststore.p12 (which holds the client's certificate)  java -Djavax.net.ssl.trustStore= -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded \\ -ssl -keyStoreType PKCS12 -keyStorePath keystore.p12 -keyStorePassword password \\ -clientAuthentication -trustStoreType PKCS12 -trustStorePath truststore.p12 -trustStorePassword password \\ -authentication -clientTrustStoreType PKCS12 -clientTrustStorePath clientTruststore.p12 -clientTrustStorePassword password   ","version":"2.19.x","tagName":"h2"},{"title":"Start in EbMS Server mode​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-in-ebms-server-mode","content":" java -Djavax.net.ssl.trustStore= -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -headless -disableEbMSClient   ","version":"2.19.x","tagName":"h2"},{"title":"Start in EbMS Client mode​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-in-ebms-client-mode","content":" java -Djavax.net.ssl.trustStore= -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -headless -disableEbMSServer   ","version":"2.19.x","tagName":"h2"},{"title":"Start in SOAP API mode​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-in-soap-api-mode","content":" java -Djavax.net.ssl.trustStore= -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -soap -headless -disableEbMSServer -disableEbMSClient   ","version":"2.19.x","tagName":"h2"},{"title":"Start in Web Interface mode​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-in-web-interface-mode","content":" java -Djavax.net.ssl.trustStore= -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -disableEbMSServer -disableEbMSClient   ","version":"2.19.x","tagName":"h2"},{"title":"Start Health service on port 8089​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-health-service-on-port-8089","content":" Start Health service on port 8089 (instead of default port 8008)  java -Djavax.net.ssl.trustStore= -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -health -healthPort 8089   ","version":"2.19.x","tagName":"h2"},{"title":"Start using basic authentication​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-using-basic-authentication","content":" Start using basic authentication on Web/SOAP interface  java -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -authentication   ","version":"2.19.x","tagName":"h2"},{"title":"Start hsqldb and ebms-admin as 2 separate applications​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-hsqldb-and-ebms-admin-as-2-separate-applications","content":" java -cp ebms-admin-2.19.3.jar org.hsqldb.server.Server --database.0 file:hsqldb/ebms --dbname.0 ebms -port 9001 java -Djavax.net.ssl.trustStore= -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -soap   ","version":"2.19.x","tagName":"h2"},{"title":"start ebms-admin serving admin and soap interface over ssl using Microsoft Azure Key Vault certificate​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-ebms-admin-serving-admin-and-soap-interface-over-ssl-using-microsoft-azure-key-vault-certificate","content":" caution with the current azure-security-keyvault-jca implementation (version 1.0.0-beta.5) only the certificate and not the full chain is returned. this can cause problems with for instance the Microsoft Azure API Gateway which does not want to connect to a server which does not provide the full chain.  (since v2.17.7) note, the system property azure.keyvault.uri is required as some requests are made to the keystore before it is initialized in code. The sample values for azure are fictive and can not be used to actually run the adapter.  java -Dazure.keyvault.uri=https://key.vault.azure.net -Djavax.net.ssl.trustStore= -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded \\ -ssl -soap -trustStoreType PKCS12 -trustStorePath truststore.p12 -trustStorePassword password \\ -keyStoresType AZURE -keyvaultUri https://key.vault.azure.net -keyvaultTennantId f487d075-71f0-486a-beab-7e8d3f873be5 \\ -keyvaultClientId https://digipoort -keyvaultClientSecret _17c.3xulKW~2crwjVTFRT8n-5LKo44uF5   ","version":"2.19.x","tagName":"h2"},{"title":"start ebms-admin serving admin shipping logging and metrics to Microsoft Azure Application Insights​","type":1,"pageTitle":"Command Line Options","url":"/ebms-admin/docs/ebms-admin/command#start-ebms-admin-serving-admin-shipping-logging-and-metrics-to-microsoft-azure-application-insights","content":" By adding the -applicationInsights parameter the shipping of logging and metrics is enabled. Additional configuration needs to be done in Microsoft Azure.  java -Dazure.keyvault.uri=https://key.vault.azure.net -Djavax.net.ssl.trustStore= -cp ebms-admin-2.19.3.jar nl.clockwork.ebms.admin.StartEmbedded -soap -applicationInsights  ","version":"2.19.x","tagName":"h2"},{"title":"Database support","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-core/database","content":"","keywords":"","version":"2.19.x"},{"title":"Database Scripts​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-core/database#database-scripts","content":" The database master scripts can be found here The database update scripts can be found here ebms-core also supports automatic database migration through Flyway  ","version":"2.19.x","tagName":"h2"},{"title":"Database Configuration​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-core/database#database-configuration","content":" You can find the JDBC settings for the supported databases as well as links to the JDBC drivers below.  ","version":"2.19.x","tagName":"h2"},{"title":"Common Properties​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-core/database#common-properties","content":" ebms.jdbc.username=&lt;username&gt; ebms.jdbc.password=&lt;password&gt;   ","version":"2.19.x","tagName":"h3"},{"title":"DB2​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-core/database#db2","content":" since v2.14.0  # JDBC driver ebms.jdbc.driverClassName=com.ibm.db2.jcc.DB2Driver # or XA driver ebms.jdbc.driverClassName=com.ibm.db2.jcc.DB2XADataSource ebms.jdbc.url=jdbc:db2://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;   Tested with DB2 11.5.4.0  Download drivers here  ","version":"2.19.x","tagName":"h3"},{"title":"H2​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-core/database#h2","content":" since v2.17.2  # JDBC and XA driver ebms.jdbc.driverClassName=org.h2.Driver # or XA driver ebms.jdbc.driverClassName=org.h2.jdbcx.JdbcDataSource # In memory ebms.jdbc.url=jdbc:h2:mem:&lt;dbname&gt; # or file ebms.jdbc.url=jdbc:h2:&lt;path&gt; # or server ebms.jdbc.url=jdbc:h2:tcp://&lt;host&gt;:&lt;port&gt;/&lt;path&gt;   Tested with H2 1.4.200  ","version":"2.19.x","tagName":"h3"},{"title":"HSQLDB​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-core/database#hsqldb","content":" # JDBC driver ebms.jdbc.driverClassName=org.hsqldb.jdbcDriver # or XA driver ebms.jdbc.driverClassName=org.hsqldb.jdbc.pool.JDBCXADataSource # In memory ebms.jdbc.url=jdbc:hsqldb:mem:&lt;dbname&gt; # or file ebms.jdbc.url=jdbc:hsqldb:file:&lt;path&gt; # or server ebms.jdbc.url=jdbc:hsqldb:hsql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;   Tested with HSQLDB 2.5.1  ","version":"2.19.x","tagName":"h3"},{"title":"MariaDB​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-core/database#mariadb","content":" # JDBC driver ebms.jdbc.driverClassName=org.mariadb.jdbc.Driver # or XA driver ebms.jdbc.driverClassName=org.mariadb.jdbc.MySQLDataSource ebms.jdbc.url=jdbc:mariadb://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;   Tested with MariaDB 10.3.22  Download drivers here  Download the right flyway-mysql driver here and add it to the classpath next to the database driver Check the pom.xml of ebms-admin for the right version of the flyway-mysql library  ","version":"2.19.x","tagName":"h3"},{"title":"MS SQL Server​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-core/database#ms-sql-server","content":" danger We strongly advise to not use a MSSQL Database with the EbMS Adapter if you expect a moderate to high message load, because MSSQL cannot handle that because of Page Locking.  # JDBC driver ebms.jdbc.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver # or XA driver ebms.jdbc.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerXADataSource ebms.jdbc.url=jdbc:sqlserver://&lt;host&gt;:&lt;port&gt;;[instanceName=&lt;instanceName&gt;;]databaseName=&lt;dbname&gt;;   Tested with MS SQL Server 2019  Download drivers here  Download the right flyway-sqlserver driver here and add it to the classpath next to the database driver Check the pom.xml of ebms-admin for the right version of the flyway-sqlserver library  XA Driver​  When using the XA driver execute the following script  EXEC sp_sqljdbc_xa_install EXEC sp_addrolemember [SqlJDBCXAUser], '&lt;username&gt;'   Quartz​  When deliveryTaskHandler.type is set to QUARTZor QUARTZ_JMS then set  deliveryTaskHandler.quartz.jdbc.selectWithLockSQL=SELECT * FROM {0}LOCKS UPDLOCK WHERE LOCK_NAME = ?   ","version":"2.19.x","tagName":"h3"},{"title":"MySQL​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-core/database#mysql","content":" danger MySQL support is removed in version 2.19.0  # JDBC driver ebms.jdbc.driverClassName=com.mysql.cj.jdbc.Driver # or XA driver ebms.jdbc.driverClassName=com.mysql.cj.jdbc.MysqlXADataSource ebms.jdbc.url=jdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;   Tested with MySQL 8.0.21  Download drivers here  XA Driver​  When using the XA driver add line the following line to my.ini or my.cnf  default-time-zone='+02:00'   ","version":"2.19.x","tagName":"h3"},{"title":"Oracle​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-core/database#oracle","content":" # JDBC driver ebms.jdbc.driverClassName=oracle.jdbc.OracleDriver # or XA driver ebms.jdbc.driverClassName=oracle.jdbc.xa.client.OracleXADataSource ebms.jdbc.url=jdbc:oracle:thin:@&lt;host&gt;:&lt;port&gt;:&lt;dbname&gt;   Tested with Oracle XE 18c  Download drivers here  XA Driver​  When using the XA driver execute the following script  grant select on sys.dba_pending_transactions to &lt;username&gt;; grant select on sys.pending_trans$ to &lt;username&gt;; grant select on sys.dba_2pc_pending to &lt;username&gt;;   ","version":"2.19.x","tagName":"h3"},{"title":"PostgreSQL​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-core/database#postgresql","content":" # JDBC driver ebms.jdbc.driverClassName=org.postgresql.Driver # or XA driver ebms.jdbc.driverClassName=org.postgresql.xa.PGXADataSource ebms.jdbc.url=jdbc:postgresql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;   Tested with PostgreSQL 12.4  Download drivers here  XA Driver​  If you get the following error when using the XA driver  org.postgresql.util.PSQLException: ERROR: prepared transactions are disabled Hint: Set max_prepared_transactions to a nonzero value.   then enable the max_prepared_transactions attribute in postgresql.conf  ","version":"2.19.x","tagName":"h3"},{"title":"Flyway​","type":1,"pageTitle":"Database support","url":"/ebms-admin/docs/ebms-core/database#flyway","content":" Database migration through Flyway is enabled through the following EbMS property (since v2.17.2)  ebms.jdbc.update=true   If you already have an existing database and want to use Flyway, then you first have to initialize Flyway. Otherwise you can just enable the property. ","version":"2.19.x","tagName":"h2"},{"title":"Default Properties","type":0,"sectionRef":"#","url":"/ebms-admin/docs/ebms-core/properties","content":"","keywords":"","version":"2.19.x"},{"title":"Cache​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#cache","content":" Set cache.type to IGNITE or EHCACHE when you are scaling the EbMS Adapter, otherwise leave it set to DEFAULT. You can also disable caching by setting cache.type to NONE, but this is not adviced. The scaling configuration for IGNITE works out of the box, the scaling configuration for EHCACHE you have to configure yourself. You can find the default configuration file for IGNITE here and you can find the default configuration file for EHCACHE here.  # CacheType: NONE | DEFAULT (SPRING) | EHCACHE | IGNITE cache.type=DEFAULT cache.configLocation=   ","version":"2.19.x","tagName":"h3"},{"title":"Database​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#database","content":" See here for the supported databases.  ebms.jdbc.driverClassName=org.hsqldb.jdbcDriver ebms.jdbc.url=jdbc:hsqldb:mem:ebms ebms.jdbc.username=sa ebms.jdbc.password= ebms.jdbc.update=false ebms.jdbc.strict=false   ","version":"2.19.x","tagName":"h3"},{"title":"Database Connection Pool​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#database-connection-pool","content":" Set ebms.pool.minPoolSize and ebms.pool.maxPoolSize to your needs. Do not set ebms.pool.testQuery if you are using a JDBC 4 compliant driver. The rest of the defaults should be fine.  ebms.pool.autoCommit=true ebms.pool.connectionTimeout=30000 ebms.pool.maxIdleTime=600000 ebms.pool.maxLifetime=1800000 ebms.pool.testQuery= ebms.pool.minPoolSize=16 ebms.pool.maxPoolSize=32   ","version":"2.19.x","tagName":"h3"},{"title":"DeliveryManager​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#deliverymanager","content":" The DeliveryManager is used to handle EbMS Ping and getMessageStatus calls. Set deliveryManager.type to JMS when you are scaling the EbMS Adapter, otherwise leave it set to DEFAULT. When deliveryManager.type=JMS configure JMS.  # DeliveryManagerType: DEFAULT (DAO) | JMS deliveryManager.type=DEFAULT deliveryManager.minThreads=2 deliveryManager.maxThreads=8 messageQueue.maxEntries=64 messageQueue.timeout=30000   ","version":"2.19.x","tagName":"h3"},{"title":"DeliveryTaskHandler​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#deliverytaskhandler","content":" The DeliveryTaskHandler is used to send EbMS Messages asynchronously. Set deliveryTaskHandler.type to JMS, QUARTZ or QUARTZ_JMS when you are using advanced scaling, otherwise leave it set to DEFAULT or set it to QUARTZ. When deliveryTaskHandler.type is set to JMS or QUARTZ_JMS configure JMS and the TransactionManager.  # DeliveryTaskHandlerType: DEFAULT (DAO) | JMS | QUARTZ | QUARTZ_JMS deliveryTaskHandler.start=true deliveryTaskHandler.type=DEFAULT deliveryTaskHandler.minThreads=16 deliveryTaskHandler.maxThreads=16 deliveryTaskHandler.default.maxTasks=100 deliveryTaskHandler.default.executionInterval=1000 deliveryTaskHandler.jms.destinationName= deliveryTaskHandler.jms.receiveTimeout=3000 deliveryTaskHandler.quartz.driverDelegateClass= deliveryTaskHandler.quartz.isClustered=false deliveryTaskHandler.quartz.jdbc.driverClassName= deliveryTaskHandler.quartz.jdbc.selectWithLockSQL= deliveryTaskHandler.task.executionInterval=0   ","version":"2.19.x","tagName":"h3"},{"title":"DeliveryTaskManager​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#deliverytaskmanager","content":" It is possible to retry sending best-effort messages after a technical error (like a connection error). ebmsMessage.nrAutoRetries sets the maximum number of retries. ebmsMessage.autoRetryInterval sets the retry interval in minutes.  note This is not according to the EbMS Specifications, but will not violate them either.  deliveryTaskManager.nrAutoRetries=0 deliveryTaskManager.autoRetryInterval=5   ","version":"2.19.x","tagName":"h3"},{"title":"EbMS Core​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#ebms-core","content":" You have to set ebms.serverId with a unique serverId per server when you are scaling with serverId.  ebms.serverId=   ","version":"2.19.x","tagName":"h3"},{"title":"EbMS Message Storage​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#ebms-message-storage","content":" If deleteContentOnProcessed=true then the attachments of a received message are deleted right after it has been processed and the attachments of a sent message are deleted right after it has been acknowledged (failed or expired). If ebmsMessage.storeDuplicateContent=false then the attachments of a duplicate message are not stored. If ebmsMessage.storeDuplicate=false then the whole duplicate message is not stored.  ebmsMessage.deleteContentOnProcessed=false ebmsMessage.storeDuplicate=true ebmsMessage.storeDuplicateContent=true   ","version":"2.19.x","tagName":"h3"},{"title":"Encryption keystore​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#encryption-keystore","content":" Holds the different encryption keys (and related certificates) of the encryption certificates defined in the different CPAs the EbMS adapter is using.  # KeystoreType: JCEKS | JKS | DKS | PKCS11 | PKCS12 encryption.keystore.type=PKCS12 encryption.keystore.path=nl/clockwork/ebms/keystore.p12 encryption.keystore.password=password encryption.keystore.keyPassword=${encryption.keystore.password}   ","version":"2.19.x","tagName":"h3"},{"title":"EventListener​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#eventlistener","content":" When receiving a message a RECEIVE event is generated. After a message is sent, a DELIVERED, FAILED or EXPIRED event is generated. By DEFAULT these events are logged to file, but it is also possible to persist and consume these events. For that you can choose from the EventListenerTypes  DAO which stores it to databaseSIMPLE_JMS which stores the messageId to JMSJMS which stores all message properties to JMSJMS_TEXT which stores all message properties to JMS as a text message  When DAO is selected, you can get the events by calling getUnProcessedEvents. When one of the JMS listeners is selected, you can get the events by listening to a QUEUE or TOPIC depending on the destinationType. You then also have to configure JMS. Events can be filtered by providing a comma separated list of events to be filtered out in eventListener.filter.  # EventListenerType: DEFAULT (LOGGING) | DAO | SIMPLE_JMS | JMS | JMS_TEXT eventListener.type=DEFAULT eventListener.filter= # DestinationType: QUEUE | TOPIC eventListener.jms.destinationType=QUEUE   ","version":"2.19.x","tagName":"h3"},{"title":"Forward Proxy​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#forward-proxy","content":" http.proxy.host= http.proxy.port=0 http.proxy.nonProxyHosts=127.0.0.1,localhost http.proxy.username= http.proxy.password=   ","version":"2.19.x","tagName":"h3"},{"title":"HTTPClient​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#httpclient","content":" http.connectTimeout=30000 http.readTimeout=30000   ","version":"2.19.x","tagName":"h3"},{"title":"HTTP Errors​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#http-errors","content":" Defines the recoverable and unrecoverable errors to determine the unrecoverable errors on which the EbMS adapter will let a sent message fail. By default the EbM adapter will fail on all recoverable errors except for 408 and 429 and will only fail on unrecoverable errors 501, 505 and 510. Recoverable errors are 1xx, 3xx and 4xx errors. Unrecoverable errors are 5xx errors.  http.errors.informational.recoverable= http.errors.redirection.recoverable= http.errors.client.recoverable=408,429 http.errors.server.unrecoverable=501,505,510   ","version":"2.19.x","tagName":"h3"},{"title":"JMS​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#jms","content":" JMS can be used by the DeliveryTaskHandler, the DeliveryManager and the EventListener. By default the jms.brokerURL=vm://localhost setting starts a persistent ActiveMQ broker that stores its data in the folder activemq-data and is reachable through vm://localhost. To use a diffent (external) ActiveMQ broker configure jms.brokerURL. You can also start an internal ActiveMQ broker by setting jms.broker.start=true and set the path to the broker's configuration file in jms.broker.config. You can find the default ActiveMQ configuration file here. If you are using this configuration file, the broker's data is stored in the folder data.  info When deliveryTaskHandler.type is set to JMS configure the ActiveMQ broker with schedulerSupport=&quot;true&quot;  info When eventListener.type is set to SIMPLE_JMS, JMS, or JMS_TEXT or deliveryTaskHandler.type is set to JMS or QUARTZ_JMS use (the default) presistent delivery  jms.brokerURL=vm://localhost jms.broker.start=false jms.broker.config=classpath:nl/clockwork/ebms/activemq.xml jms.broker.username= jms.broker.password= jms.pool.minPoolSize=32 jms.pool.maxPoolSize=32   ","version":"2.19.x","tagName":"h3"},{"title":"Overflow attachments to disk​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#overflow-attachments-to-disk","content":" Large EbMS attachments will be cached in temporary files if they exceed the ebmsMessage.attachment.memoryTreshold which by default is 128Kb. The temporary files are written to ebmsMessage.attachment.outputDirectory if set, otherwise to the default temp directory. To enable file encryption set ebmsMessage.attachment.cipherTransformation to a stream or 8-bit block cipher transformation (like RC4, AES/CTR/NoPadding, etc).  caution Enabling file encryption will result in an increased processing time.  ebmsMessage.attachment.memoryTreshold=131072 ebmsMessage.attachment.outputDirectory= ebmsMessage.attachment.cipherTransformation=   ","version":"2.19.x","tagName":"h3"},{"title":"Signature keystore​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#signature-keystore","content":" Holds the different signature keys (and related certificates) of the signature certificates defined in the different CPAs the EbMS adapter is using.  # KeystoreType: JCEKS | JKS | DKS | PKCS11 | PKCS12 signature.keystore.type=PKCS12 signature.keystore.path=nl/clockwork/ebms/keystore.p12 signature.keystore.password=password signature.keystore.keyPassword=${signature.keystore.password}   ","version":"2.19.x","tagName":"h3"},{"title":"SSL​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#ssl","content":" The EbMS HTTP client has the option to use SSL client certificate from the matching CPA when sending a message. You can override a certificate defined in a CPA by creating a Certificate Mapping. This option can be enabled by setting property https.useClientCertificate to true.  caution This option works ONLY as long as the other (receiving) party will trust the configured SSL client certificate.  The EbMS adapter supports SSL client certificate validation. This means that the SSL clientCertificate of the incoming request will be validated against the matching CPA. This option can be enabled by setting property https.clientCertificateAuthentication to true.  caution This option ONLY works as long as the other (sending) party uses the SSL client certificates defined in the CPA and the client certificates are trusted in the truststore.  https.protocols= https.cipherSuites= https.verifyHostnames=true https.clientCertificateAuthentication=false https.useClientCertificate=false   ","version":"2.19.x","tagName":"h3"},{"title":"SSL Client keystore​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#ssl-client-keystore","content":" Holds the SSL client keys (and related certificates) used by the EbMS HTTP client.  # KeystoreType: JCEKS | JKS | DKS | PKCS11 | PKCS12 client.keystore.type=PKCS12 client.keystore.path=nl/clockwork/ebms/keystore.p12 client.keystore.password=password client.keystore.keyPassword=${client.keystore.password} client.keystore.defaultAlias=   ","version":"2.19.x","tagName":"h3"},{"title":"TransactionManager​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#transactionmanager","content":" When deliveryTaskHandler.type is set to DEFAULT or QUARTZ then set transactionManager.type=DEFAULT. When deliveryTaskHandler.type is set to JMS or QUARTZ_JMS then set transactionManager.type=ATOMIKOS and select an XA driver for your database.  # TransactionManagerType: DEFAULT | ATOMIKOS transactionManager.type=DEFAULT # IsolationLevel: &lt;EMPTY&gt; | TRANSACTION_NONE | TRANSACTION_READ_UNCOMMITTED | TRANSACTION_READ_COMMITTED | TRANSACTION_REPEATABLE_READ | TRANSACTION_SERIALIZABLE | TRANSACTION_SQL_SERVER_SNAPSHOT_ISOLATION_LEVEL transactionManager.isolationLevel= transactionManager.transactionTimeout=300   ","version":"2.19.x","tagName":"h3"},{"title":"Truststore​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#truststore","content":" Holds all trusted SSL, Signature and Encryption certificates.  # TruststoreType: JCEKS | JKS | DKS | PKCS11 | PKCS12 truststore.type=PKCS12 truststore.path=nl/clockwork/ebms/truststore.p12 truststore.password=password   ","version":"2.19.x","tagName":"h3"},{"title":"Microsoft Azure Key Vault based keystore​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#microsoft-azure-key-vault-based-keystore","content":" (since v2.17.7) Azure keyvault can store the private keys and therefore be a substitute for the client and signature keystores. By setting the property keystores.type to AZURE it will ignore the remaining signature.keystore and client.keystore properties except for the defaultAlias. By default these properties are commented-out.  # TruststoreType: AZURE | .. # keystores.type=AZURE # Keyvault uri is the full https uri of the keyvault to be used, e.g. https://key.vault.azure.net # azure.keyvault.uri= # Tennant id is the guid of the tennant/organisation where the keyvault is created, e.g. f487d075-71f0-486a-beab-7e8d3f873be5 # azure.keyvault.tennantid= # The clientid of the (application) registered, which should have sufficient privileges on the keyvault, e.g. https://digipoort # azure.keyvault.clientid= # The client secret as generated by azure, e.g. _17c.3xulKW~2crwjVTFRT8n-5LKo44uF5 # azure.keyvault.client.secret=   ","version":"2.19.x","tagName":"h3"},{"title":"Apache Kafka​","type":1,"pageTitle":"Default Properties","url":"/ebms-admin/docs/ebms-core/properties#apache-kafka","content":" (since v2.18.2) The Apache Kafka implementation is currently integrated as provided by Cap Gemini. It allows for the delivery task to be triggered on a Kafka topic.. The topic name is currently fixed DELIVERY_TASK  # DeliveryTaskHandlerType = DEFAULT(=DAO) | JMS | QUARTZ | QUARTZ_JMS | QUARTZ_KAFKA deliveryTaskHandler.type=QUARTZ_KAFKA # server url kafka.serverUrl=localhost:9092  ","version":"2.19.x","tagName":"h3"}],"options":{"enableHighlight":true,"id":"default"}}